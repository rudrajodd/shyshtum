<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Valentine's Day Question</title>
  <style>
    body {
      background: linear-gradient(135deg, #ffb6c1 0%, #ffe4e1 100%);
      color: #2d2d2d;
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
      overflow: hidden;
    }
    .hearts-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 0;
    }
    .container {
      position: relative;
      z-index: 1;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 4px 24px rgba(255, 0, 100, 0.08);
      padding: 2rem 2.5rem;
      text-align: center;
      max-width: 400px;
    }
    .container {
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 4px 24px rgba(255, 0, 100, 0.08);
      padding: 2rem 2.5rem;
      text-align: center;
      max-width: 400px;
    }
    h1 {
      font-size: 1.7rem;
      margin-bottom: 2rem;
      font-weight: 600;
      letter-spacing: 0.02em;
    }
    .buttons {
      display: flex;
      gap: 1.5rem;
      justify-content: center;
      margin-bottom: 1.5rem;
    }
    button {
      font-size: 1.1rem;
      padding: 0.7rem 1.4rem;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      transition: box-shadow 0.2s, transform 0.2s;
      box-shadow: 0 2px 8px rgba(255, 0, 100, 0.08);
    }
    .no-btn {
      background: #ffe0e6;
      color: #d7263d;
    }
    .yes-btn {
      background: #e0ffe6;
      color: #27d726;
    }
    .hidden {
      display: none;
    }
    .message {
      margin-top: 1.5rem;
      font-size: 1.1rem;
      color: #d7263d;
      font-weight: 500;
    }
    .confetti {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 999;
    }
    .reveal-img {
      margin-top: 2rem;
      border-radius: 12px;
      box-shadow: 0 2px 12px rgba(255, 0, 100, 0.12);
      max-width: 100%;
      height: auto;
    }
  </style>
</head>
<body>
  <svg class="hearts-bg"></svg>
  <div class="container">
      <img class="pre-img" src="preimg.jpeg" alt="Before Interaction" style="max-width: 100%; margin-bottom: 1rem; border-radius: 8px;" />
    <h1>Trisha, will you be my valentine??</h1>
    <div class="buttons">
      <button class="no-btn">fuck no</button>
      <button class="yes-btn">YAAAAASSSSS OMMGGGG</button>
    </div>
    <div class="message hidden"></div>
    <img class="reveal-img hidden" src="" alt="Valentine Reveal" />
    <img class="no-img hidden" src="noimg.jpeg" alt="No Button Image" style="max-width: 100%; margin-top: 1rem; border-radius: 8px;" />
    <!-- Test image removed after debugging -->
  </div>
  <canvas class="confetti hidden"></canvas>
  <script>
    const noBtn = document.querySelector('.no-btn');
    const yesBtn = document.querySelector('.yes-btn');
    const message = document.querySelector('.message');
    const container = document.querySelector('.container');
    const revealImg = document.querySelector('.reveal-img');
    const noImg = document.querySelector('.no-img');
    const preImg = document.querySelector('.pre-img');
    const confettiCanvas = document.querySelector('.confetti');
    const heartsBg = document.querySelector('.hearts-bg');

    // 'fuck no' button jump
    noBtn.addEventListener('mouseenter', () => {
      const containerRect = container.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();
      const maxLeft = containerRect.width - btnRect.width;
      const maxTop = containerRect.height - btnRect.height;
      const left = Math.random() * maxLeft;
      const top = Math.random() * maxTop;
      noBtn.style.position = 'absolute';
      noBtn.style.left = `${left}px`;
      noBtn.style.top = `${top}px`;
      noBtn.style.zIndex = 10;
      message.textContent = 'chup chap ha bol nai to bohot marunga';
      message.classList.remove('hidden');
      preImg.classList.add('hidden');
      noImg.classList.remove('hidden');
    });

    // Floating hearts background
    function createFloatingHearts() {
      heartsBg.innerHTML = '';
      const heartCount = 24;
      for (let i = 0; i < heartCount; i++) {
        const size = 24 + Math.random() * 48;
        const x = Math.random() * window.innerWidth;
        const y = Math.random() * window.innerHeight;
        const opacity = 0.15 + Math.random() * 0.25;
        const color = `hsl(${Math.random()*20+340}, 80%, 70%)`;
        const rotate = Math.random() * 360;
        const heart = document.createElementNS('http://www.w3.org/2000/svg', 'path');
        heart.setAttribute('d', 'M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41 0.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z');
        heart.setAttribute('fill', color);
        heart.setAttribute('opacity', opacity);
        heart.setAttribute('transform', `translate(${x},${y}) scale(${size/24}) rotate(${rotate})`);
        heartsBg.appendChild(heart);
      }
    }
    createFloatingHearts();
    window.addEventListener('resize', createFloatingHearts);

    // Raining hearts animation
    function showerHearts() {
      confettiCanvas.classList.remove('hidden');
      const ctx = confettiCanvas.getContext('2d');
      confettiCanvas.width = window.innerWidth;
      confettiCanvas.height = window.innerHeight;
      const heartCount = 60;
      const hearts = [];
      for (let i = 0; i < heartCount; i++) {
        hearts.push({
          x: Math.random() * confettiCanvas.width,
          y: Math.random() * -confettiCanvas.height,
          size: 24 + Math.random() * 24,
          speed: Math.random() * 2 + 1,
          color: `hsl(${Math.random()*20+340}, 80%, 70%)`,
          tilt: Math.random() * 20 - 10
        });
      }
      let frame = 0;
      function drawHeart(x, y, size, color, tilt) {
        ctx.save();
        ctx.translate(x, y);
        ctx.rotate(tilt * Math.PI / 180);
        ctx.beginPath();
        ctx.moveTo(0, size/4);
        ctx.bezierCurveTo(size/2, -size/4, size, size/2, 0, size);
        ctx.bezierCurveTo(-size, size/2, -size/2, -size/4, 0, size/4);
        ctx.closePath();
        ctx.fillStyle = color;
        ctx.globalAlpha = 0.85;
        ctx.fill();
        ctx.restore();
      }
      function draw() {
        ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
        hearts.forEach(h => {
          drawHeart(h.x, h.y, h.size, h.color, h.tilt);
        });
        hearts.forEach(h => {
          h.y += h.speed + Math.sin(frame/10 + h.tilt);
          h.x += Math.sin(frame/20 + h.tilt);
          if (h.y > confettiCanvas.height) {
            h.y = Math.random() * -40;
            h.x = Math.random() * confettiCanvas.width;
          }
        });
        frame++;
        if (frame < 200) {
          requestAnimationFrame(draw);
        } else {
          confettiCanvas.classList.add('hidden');
        }
      }
      draw();
    }
    // 'yes' button interaction
    yesBtn.addEventListener('click', () => {
      showerHearts();
      yesBtn.disabled = true;
      noBtn.disabled = true;
      preImg.classList.add('hidden');
      noImg.classList.add('hidden');
      setTimeout(() => {
        revealImg.src = 'shyshtum.jpeg';
        revealImg.classList.remove('hidden');
      }, 1200);
    });
  </script>
</body>
</html>
